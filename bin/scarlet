#!/usr/bin/env ruby
dirname = File.dirname(__FILE__)
$:.unshift File.expand_path("../../lib", dirname)
require 'scarlet'
require 'optparse'
require 'ostruct'

options = OpenStruct.new(
  root: File.expand_path('../', dirname),
  config: File.expand_path('../config.yml', dirname)
)

OptionParser.new do |opts|
  opts.on '-c', '--config FILENAME', String, 'Use the specified file as the config' do |filename|
    options.config = filename
  end
end.parse(ARGV.dup)

scarlet = Scarlet.new(options)
scarlet.run
